{% extends "base.html" %}

{% block title %}Contact Us{% endblock %}

{% block content %}
    <h1 class="title">Contact Us</h1>
    <form id="contactForm">
        <div class="field">
            <label class="label" for="name">Name</label>
            <div class="control">
                <input class="input" type="text" id="name" name="name" placeholder="Your name" required>
            </div>
        </div>
        <div class="field">
            <label class="label" for="email">Email</label>
            <div class="control">
                <input class="input" type="email" id="email" name="email" placeholder="Your email" required>
            </div>
        </div>
        <div class="field">
            <label class="label" for="message">Message</label>
            <div class="control">
                <textarea class="textarea" id="message" name="message" placeholder="Your message" required></textarea>
            </div>
        </div>
        <div class="field">
            <div class="control">
                <button class="button is-primary" type="submit">Submit</button>
            </div>
        </div>
    </form>

    <script>
        document.getElementById('contactForm').addEventListener('submit', function(event) {
            event.preventDefault();

            var name = document.getElementById('name').value;
            var email = document.getElementById('email').value;
            var message = document.getElementById('message').value;

            fetch('/contact', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ name: name, email: email, message: message })
            })
            .then(response => response.json())
            .then(data => {
                alert(data.message);
            })
            .catch(error => {
                console.error('Error:', error);
            });
        });
    </script>
{% endblock %}
